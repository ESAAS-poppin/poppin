<div class="List-wrapper">
    <% flash.each do |type, msg| %>
        <%= content_tag(:div, msg, class: "flash flash-#{type}") %>
    <% end %>
    <h2 class="List-title">All Events</h2>
    <div class="List-content">
        <% # TODO: Filter functionality %>
        <div class="Search-tabs">
            <div class="Search-tab highlight">
                Events
            </div>
            <div class="Search-tab">
                <%= link_to "Venues", venues_path %>
            </div>
        </div>
        <div class="List-tableWrapper">
            
            <%= form_tag events_url, method: :get do %>   
                Event Types <br> <br>


                <%= label_tag :search %>
                <%= search_field_tag :search, params[:search] %>

                <%= label_tag :filter_event_type, "Event Type:" %>
                <%= select_tag :filter_event_type, options_for_select(Event.available_event_types, params[:filter_event_type]), include_blank: true %>       

                <%= label_tag :filter_price_range, "Price Range:" %>
                <%= select_tag :filter_price_range, options_for_select(Event.available_price_ranges, params[:filter_price_range]), include_blank: true %>
                
                <%= label_tag :filter_attire, "Usual Attire:" %>
                <%= select_tag :filter_attire, options_for_select(Event.available_attires, params[:filter_attire]), include_blank: true %>

                <%= submit_tag "Go" %>
            <% end %>        
            <table class="List-table table table-striped col-md-12" style="width 80%" id="events">
                <tbody>
                    <% @events.each do |event| %>
                        <tr class="List-row" border="1">
                            <td class="List-item">
                                <%= link_to "#{event.name} @ #{event.venue.name}, #{event.date.strftime("%B %-d, %Y %H:%M")}", event_path(event) %>
                            </td>
                        </tr>
                    <% end %>
                </tbody>
            </table>
        </div>
    </div>
</div>